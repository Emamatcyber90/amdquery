define([],function(){var e={},t=0;return e.normalize=function(n,r){if(t++%2==1)return n;var i=e.parse(n);i.feature=r(i.feature),i.yesModuleId&&(i.yesModuleId=r(i.yesModuleId)),i.noModuleId&&(i.noModuleId=r(i.noModuleId));if(i.type=="lookup")return i.feature;i.yesBuild||(i.yesModuleId="["+i.yesModuleId+"]"),i.noBuild||(i.noModuleId="["+i.noModuleId+"]");if(i.type=="load_if_not")return"~"+i.feature+"?"+i.yesModuleId+(i.noModuleId?":"+i.noModuleId:"");if(i.type=="load_if")return i.feature+"?"+i.yesModuleId+(i.noModuleId?":"+i.noModuleId:"")},e.parse=function(e){var t=e.substr(0,e.indexOf("?")),n=e.substr(t.length+1,e.length-t.length-1),r=n.substr(0,n.indexOf(":"));n.substr(r.length+1,2)=="//"&&(r=n.substr(0,n.indexOf(":",r.length+1)));var i=n.substr(r.length+1,n.length-r.length-1);r==""&&(r=n,i=null);var s=!0,o=!0;return r&&r.substr(0,1)=="["&&r.substr(r.length-1,1)=="]"&&(r=r.substr(1,r.length-2),s=!1),i&&i.substr(0,1)=="["&&i.substr(i.length-1,1)=="]"&&(i=i.substr(1,i.length-2),o=!1),t==""?{feature:e,type:"lookup"}:t.substr(0,1)=="~"?{feature:t.substr(1,e.length-1),type:"load_if_not",yesModuleId:r,noModuleId:i,yesBuild:s,noBuild:o}:{feature:t,type:"load_if",yesModuleId:r,noModuleId:i,yesBuild:s,noBuild:o}},e});